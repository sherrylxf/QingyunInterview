**青云面试平台（Qingyun Platform）**

该系统分为 **用户端（小程序 / Web 前端）** 与 **管理端（后台管理）**，核心功能是 **打卡、题库、用户管理、统计报表、学习成长**。
下面是详细的架构设计与模块规划👇

---

## 🏗️ 一、整体架构设计

```
qingyun-platform/
├── qingyun-gateway/              # 网关模块（统一入口）
├── qingyun-auth/                 # 认证中心（JWT/OAuth2登录认证）
├── qingyun-common/               # 通用工具包（公共类库）
├── qingyun-service/
│   ├── qingyun-service-user/     # 用户服务（注册、打卡、积分、成长曲线）
│   ├── qingyun-service-question/ # 题库服务（题目、分类、面试题、标签）
│   ├── qingyun-service-record/   # 打卡记录服务（每日打卡、答题记录）
│   ├── qingyun-service-admin/    # 管理员服务（后台管理、权限、角色）
│   └── qingyun-service-stat/     # 统计分析服务（学习数据、打卡趋势）
├── qingyun-api/                  # OpenAPI 接口定义（feign client + dto）
├── qingyun-web-admin/            # 管理端后端（Spring Boot MVC + Vue前端）
├── qingyun-web-user/             # 用户端后端（面向用户的 API）
└── docs/                         # 项目文档（ER图、时序图、接口文档、部署说明）
```

---

## 🧩 二、模块职责详解

### 1️⃣ `qingyun-gateway`

**功能：**

* 统一入口，路由转发请求到不同微服务
* 负责权限验证与限流（Spring Cloud Gateway + Nacos）
* 统一响应格式、跨域配置、接口防刷

**示例：**

```
qingyun-gateway/
└── src/main/java/com/qingyun/gateway/
    ├── filter/AuthFilter.java
    ├── config/CorsConfig.java
    ├── route/GatewayRoutesConfig.java
```

---

### 2️⃣ `qingyun-auth`

**功能：**

* 用户登录注册（手机号、邮箱、微信登录）
* JWT Token 生成与验证
* 登录态管理、权限验证

---

### 3️⃣ `qingyun-common`

**功能：**

* 全局异常处理、返回封装 (`R<T>`)
* 通用工具类（BeanUtils、DateUtils、JwtUtils）
* 实体基类（BaseEntity、PageResult）
* 自定义注解（如 `@LoginRequired`, `@AdminOnly`）

---

### 4️⃣ `qingyun-service-user`

**功能：**

* 用户注册 / 登录 / 信息维护
* 学习积分、等级成长体系
* 用户打卡数据汇总（调用 record 服务）
* 用户学习曲线可视化

---

### 5️⃣ `qingyun-service-question`

**功能：**

* 面试题、题库管理
* 分类（算法、Java、数据库、系统设计等）
* 标签系统（难度、热度）
* 支持题目导入导出（Excel、JSON）
* 支持收藏、错题集功能

---

### 6️⃣ `qingyun-service-record`

**功能：**

* 用户打卡（每日签到 / 练习打卡）
* 答题记录（题目ID、结果、用时）
* 连续打卡统计、习惯养成
* 提供接口给统计模块调用

---

### 7️⃣ `qingyun-service-admin`

**功能：**

* 管理员用户、角色、权限
* 题库审核、内容发布
* 管理后台接口（供 `qingyun-web-admin` 使用）

---

### 8️⃣ `qingyun-service-stat`

**功能：**

* 打卡趋势分析（每日活跃、学习时长）
* 用户学习习惯可视化（ECharts）
* 后台仪表盘数据提供接口

---

### 9️⃣ `qingyun-api`

**功能：**

* 提供服务间调用的统一接口定义（FeignClient）
* DTO / VO / Feign 接口统一管理
* 让服务间解耦

---

### 🔟 `qingyun-web-user`

**功能：**

* 用户端 Web 接口网关层（整合 user、record、question 服务）
* 提供 RESTful API 给前端（Vue / 小程序）
* 支持统一 Token 验证、参数校验、限流

---

### 🕹️ `qingyun-web-admin`

**功能：**

* 管理端后端接口
* 连接管理前端（Vue + Element Plus）
* 权限菜单、角色管理
* 题库管理页面接口

---

## 📂 三、包结构（以 question 服务为例）

```
qingyun-service-question/
└── src/main/java/com/qingyun/question/
    ├── controller/       # 控制层
    ├── service/          # 业务层
    ├── service/impl/
    ├── mapper/           # MyBatis Mapper 接口
    ├── entity/           # 实体类
    ├── dto/              # 数据传输对象
    ├── vo/               # 视图对象
    ├── config/           # 配置类
    ├── utils/            # 工具类
    └── QingyunQuestionApplication.java
```

---

## ⚙️ 四、技术选型建议

| 模块   | 技术栈                                    |
| ---- | -------------------------------------- |
| 后端框架 | Spring Boot 3.x + Spring Cloud Alibaba |
| 数据访问 | MyBatis-Plus + MySQL                   |
| 注册中心 | Nacos                                  |
| 配置中心 | Nacos Config                           |
| 网关   | Spring Cloud Gateway                   |
| 认证授权 | JWT + Spring Security                  |
| 缓存   | Redis                                  |
| 前端管理端 | Vue 3 + Element Plus                   |
| 前端用户端 | UniApp / Vue 3                         |
| 文件上传 | MinIO / 阿里云OSS                         |
| 日志   | Logback + ELK 可扩展                      |
| 消息队列 | RabbitMQ / RocketMQ                    |
| 监控   | Spring Boot Admin + Prometheus         |
使用Apifox，前后端接口联调
---

## 📈 五、可拓展功能建议

* ✅ **AI 智能出题 / 推荐功能**（后续结合 DeepSeek / GPT）
* ✅ **学习日报 / 每周总结自动生成**
* ✅ **面试模式模拟（限时答题 + 评分）**
* ✅ **打卡积分商城 / 勋章系统**
* ✅ **RAG 问答系统：题库知识问答**

---

## ✅ 六、命名规范（统一风格）

| 类型     | 命名风格                         | 示例                   |
| ------ | ---------------------------- | -------------------- |
| 服务名    | qingyun-service-xxx          | qingyun-service-user |
| 包路径    | com.qingyun.xxx              | com.qingyun.user     |
| 前端项目   | qingyun-admin / qingyun-user | —                    |
| 数据库表前缀 | qy_                          | qy_user, qy_question |

---